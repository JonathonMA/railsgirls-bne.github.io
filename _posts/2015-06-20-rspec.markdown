---
layout: default
title: Rails Girls Rspec tutorial
permalink: sinatra-app
---

# Testing with Rspec

*Created by Sorcha Abel, [@sabel25](https://twitter.com/sabel25)*

Rspec is a testing framework. As developers we are constantly testing, as soon as we develop code we run it to see if it works. That is manual testing.

Rspec is simply testing with code. You write code to test other code. Rspec tests where a portion of code outputs the desired behaviour in a controlled environment. Given..when and then is the
basic structure of all tests

__COACH__: Talk about given..when..then ie. Given some context..when an particular event occurs...then the result should be. Rspec is written in Ruby using a DSL

### Install Rspec

Rspec is a gem. To add a gem to your rails application open the file gemfile in the root of your project, add the following lines and save

{% highlight sh %}
group :development, :test do
  gem 'rspec-rails'
end
{% endhighlight %}

Then we call the following from our terminal. We do this to install the gem we just added

{% highlight sh %}
bundle install
{% endhighlight %}

This will create two files, rails-helper.rb and spec_helper.rb in the spec directory for you. All tests will
be stored in this directory inside your project.

Next we will create a spec to test the Idea.rb model we created earlier. But before we do that we need to modify
the model idea.rb

Open this file in the app/models folder and add this line. This simply means that each idea we add via our browser page
must have a name. Otherwise it is not considered to be a valid record and will not save to the database.

{% highlight sh %}
validates :addr1, presence: true
{% endhighlight %}

Next inside the spec directory create 2 new folders called app and then models inside the app folder. Inside the model
folder create a file called idea_spec.rb

__COACH__: talk about the format of a rspec file i.e. filename_spec.rb

{% highlight sh %}
require 'rails_helper'

describe Idea do
  it 'will not save without a name' do
    idea = Idea.new
    expect(idea).to_not be_valid
  end
end
{% endhighlight %}

Finally go back to your terminal window and run

{% highlight sh %}
bundle exec rspec spec/app/models/idea_spec.rb
{% endhighlight %}

## What's next


## Additional Guides

* Guide 0: [Handy cheatsheet for Ruby, Rails, console etc.](https://github.com/PragTob/rails-beginner-cheatsheet)
* Guide 1: [Add commenting by Janika Liiv](/commenting)
* Guide 2: [Put your app online with Heroku by Terence Lee](/heroku) / [Put your app online with OpenShift by Katie Miller](/openshift) / [Put your app online with Shelly Cloud](/shellycloud) / [Put your app online with anynines](/anynines) / [Put your app online with Trucker.io](/trucker)
* Guide 3: [Create thumbnail images for the uploads by Miha Filej](/thumbnails)
* Guide 4: [Add design using HTML &amp; CSS by Alex Liao](/design)
* Guide 5: [Add Authentication (user accounts) with Devise by Piotr Steininger](/devise/)
* Guide 6: [Adding profile pictures with Gravatar](/gravatar)
* Guide 7: [Test your app with RSpec](/testing-rspec)
* Guide 8: [Continuous Deployment with Travis-CI](/continuous-travis) / [Continuous Deployment with Codeship](/continuous)
* Guide 9: [Go through additional explanations for the App by Lucy Bain](https://github.com/lbain/railsgirls)


